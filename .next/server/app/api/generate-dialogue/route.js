"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-dialogue/route";
exports.ids = ["app/api/generate-dialogue/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Software_eduagent_src_app_api_generate_dialogue_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate-dialogue/route.ts */ \"(rsc)/./src/app/api/generate-dialogue/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-dialogue/route\",\n        pathname: \"/api/generate-dialogue\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-dialogue/route\"\n    },\n    resolvedPagePath: \"D:\\\\Software\\\\eduagent\\\\src\\\\app\\\\api\\\\generate-dialogue\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Software_eduagent_src_app_api_generate_dialogue_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate-dialogue/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS1kaWFsb2d1ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUtZGlhbG9ndWUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZS1kaWFsb2d1ZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDU29mdHdhcmUlNUNlZHVhZ2VudCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q1NvZnR3YXJlJTVDZWR1YWdlbnQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1YWdlbnQvP2MyNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcU29mdHdhcmVcXFxcZWR1YWdlbnRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhdGUtZGlhbG9ndWVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGUtZGlhbG9ndWVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcU29mdHdhcmVcXFxcZWR1YWdlbnRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhdGUtZGlhbG9ndWVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate-dialogue/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/generate-dialogue/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\nasync function POST(request) {\n    try {\n        const { sceneName, characters, dialogue, script, teachingGoal, subject, grade } = await request.json();\n        if (!sceneName || !characters || !dialogue) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"场景信息不完整\"\n            }, {\n                status: 400\n            });\n        }\n        // 构建基于storyboard的对话优化prompt\n        const dialoguePrompt = `\r\n你是专业的剧情驱动对话优化师。基于已生成的storyboard框架，对现有对话进行深度优化和扩展，生成完整的8-15轮沉浸式冒险对话。\r\n\r\n【优化任务】\r\n你需要分析现有的storyboard内容，识别其优势和不足，然后生成更加完善、连贯、沉浸的对话版本。\r\n\r\n【场景设定】\r\n- 场景名称：${sceneName}\r\n- 学科领域：${subject || \"未知\"} (${grade || \"未知\"}年级)\r\n- 教学目标：${teachingGoal || \"未明确\"}\r\n\r\n【已建立的角色档案】\r\n- 主角：${characters.主角?.角色名 || \"主角\"}\r\n  外貌：${characters.主角?.外貌 || \"\"}\r\n  性格：${characters.主角?.性格 || \"\"}\r\n  特殊能力：${characters.主角?.特殊能力 || \"\"}\r\n\r\n- NPC：${characters.NPC?.角色名 || \"NPC\"}\r\n  外貌：${characters.NPC?.外貌 || \"\"}\r\n  性格：${characters.NPC?.性格 || \"\"}\r\n  作用：${characters.NPC?.作用 || \"\"}\r\n\r\n【现有故事框架（需要优化扩展）】\r\n剧情背景：${script?.旁白 || \"\"}\r\n核心情节：${script?.情节描述 || \"\"}\r\n互动机制：${script?.互动设计 || \"\"}\r\n\r\n【现有对话素材（需要深度改进）】\r\n开场对话基础：${JSON.stringify(dialogue.开场对话 || [])}\r\n探索对话基础：${JSON.stringify(dialogue.探索对话 || dialogue.学习对话 || [])}\r\n互动环节基础：${JSON.stringify(dialogue.互动问答环节 || dialogue.问答环节 || {})}\r\n\r\n【优化重点】\r\n1. **情感深度**：每句对话都要体现角色的真实情感状态和动机\r\n2. **剧情张力**：逐步升级困境的紧迫感，让玩家感到真正的威胁和压力\r\n3. **知识融合**：让${subject || \"\"}知识看起来像是这个世界的自然法则，而不是学习内容\r\n4. **伙伴关系**：NPC和主角应该表现出真正的相互依赖和信任\r\n5. **探索引导**：失败时的引导要自然而富有启发性，像真正的伙伴会做的那样\r\n\r\n【输出完整对话】按以下格式生成8-15轮深度对话：\r\n\r\nNPC: [结合角色性格和当前困境的具体对话]\r\n玩家: [符合角色设定的回应]\r\nNPC: [推进剧情和情感的对话]\r\n玩家: [显示角色成长的回应]\r\n...\r\n\r\n【互动解谜环节】基于故事情境设计一个核心挑战：\r\n\r\n**困境描述**：[NPC描述当前面临的具体威胁或障碍]\r\n**探索选项**：\r\nA. [基于${subject || \"\"}知识的正确方法]\r\nB. [看起来合理但不完全正确的方法]  \r\nC. [明显错误但有一定逻辑的方法]\r\n\r\n**正确路径**：选择A\r\n**成功反馈**：[NPC的兴奋反应 + 剧情推进 + 角色能力/物品奖励]\r\n**失败引导**：[NPC的理解和鼓励 + 新线索提供 + \"让我们再试试...\"的引导]\r\n\r\n【关键要求】：\r\n- 对话必须推进主线剧情，不能是无意义的闲聊\r\n- ${subject || \"\"}知识必须是解决困境的唯一有效方法\r\n- 失败后的引导要让玩家有新的发现，而不是简单重复\r\n- 成功后的奖励要对后续剧情有实际意义\r\n- 全程维持角色设定的一致性和世界观的沉浸感\r\n- 语言适合${grade || \"\"}年级但要有真正的情感深度\r\n`;\n        const response = await openai.chat.completions.create({\n            model: \"gpt-4o-mini\",\n            messages: [\n                {\n                    role: \"user\",\n                    content: dialoguePrompt\n                }\n            ],\n            temperature: 0.7,\n            max_tokens: 1500\n        });\n        const generatedDialogue = response.choices[0]?.message?.content;\n        if (!generatedDialogue) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"对话生成失败\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            dialogue: generatedDialogue\n        });\n    } catch (error) {\n        console.error(\"Dialogue generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"对话生成失败\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1kaWFsb2d1ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDNUI7QUFFM0IsTUFBTUUsU0FBUyxJQUFJRCw4Q0FBTUEsQ0FBQztJQUN4QkUsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBQ3BDO0FBRU8sZUFBZUMsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFDSkMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxZQUFZLEVBQ1pDLE9BQU8sRUFDUEMsS0FBSyxFQUNOLEdBQUcsTUFBTVAsUUFBUVEsSUFBSTtRQUV0QixJQUFJLENBQUNQLGFBQWEsQ0FBQ0MsY0FBYyxDQUFDQyxVQUFVO1lBQzFDLE9BQU9YLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFVLEdBQ25CO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSw0QkFBNEI7UUFDNUIsTUFBTUMsaUJBQWlCLENBQUM7Ozs7Ozs7T0FPckIsRUFBRVYsVUFBVTtPQUNaLEVBQUVLLFdBQVcsS0FBSyxFQUFFLEVBQUVDLFNBQVMsS0FBSztPQUNwQyxFQUFFRixnQkFBZ0IsTUFBTTs7O0tBRzFCLEVBQUVILFdBQVdVLEVBQUUsRUFBRUMsT0FBTyxLQUFLO0tBQzdCLEVBQUVYLFdBQVdVLEVBQUUsRUFBRUUsTUFBTSxHQUFHO0tBQzFCLEVBQUVaLFdBQVdVLEVBQUUsRUFBRUcsTUFBTSxHQUFHO09BQ3hCLEVBQUViLFdBQVdVLEVBQUUsRUFBRUksUUFBUSxHQUFHOztNQUU3QixFQUFFZCxXQUFXZSxHQUFHLEVBQUVKLE9BQU8sTUFBTTtLQUNoQyxFQUFFWCxXQUFXZSxHQUFHLEVBQUVILE1BQU0sR0FBRztLQUMzQixFQUFFWixXQUFXZSxHQUFHLEVBQUVGLE1BQU0sR0FBRztLQUMzQixFQUFFYixXQUFXZSxHQUFHLEVBQUVDLE1BQU0sR0FBRzs7O0tBRzNCLEVBQUVkLFFBQVFlLE1BQU0sR0FBRztLQUNuQixFQUFFZixRQUFRZ0IsUUFBUSxHQUFHO0tBQ3JCLEVBQUVoQixRQUFRaUIsUUFBUSxHQUFHOzs7T0FHbkIsRUFBRUMsS0FBS0MsU0FBUyxDQUFDcEIsU0FBU3FCLElBQUksSUFBSSxFQUFFLEVBQUU7T0FDdEMsRUFBRUYsS0FBS0MsU0FBUyxDQUFDcEIsU0FBU3NCLElBQUksSUFBSXRCLFNBQVN1QixJQUFJLElBQUksRUFBRSxFQUFFO09BQ3ZELEVBQUVKLEtBQUtDLFNBQVMsQ0FBQ3BCLFNBQVN3QixNQUFNLElBQUl4QixTQUFTeUIsSUFBSSxJQUFJLENBQUMsR0FBRzs7Ozs7YUFLbkQsRUFBRXRCLFdBQVcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7OztNQWdCdkIsRUFBRUEsV0FBVyxHQUFHOzs7Ozs7Ozs7O0VBVXBCLEVBQUVBLFdBQVcsR0FBRzs7OztNQUlaLEVBQUVDLFNBQVMsR0FBRztBQUNwQixDQUFDO1FBRUcsTUFBTXNCLFdBQVcsTUFBTW5DLE9BQU9vQyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO1lBQ3BEQyxPQUFPO1lBQ1BDLFVBQVU7Z0JBQ1I7b0JBQ0VDLE1BQU07b0JBQ05DLFNBQVN6QjtnQkFDWDthQUNEO1lBQ0QwQixhQUFhO1lBQ2JDLFlBQVk7UUFDZDtRQUVBLE1BQU1DLG9CQUFvQlYsU0FBU1csT0FBTyxDQUFDLEVBQUUsRUFBRUMsU0FBU0w7UUFFeEQsSUFBSSxDQUFDRyxtQkFBbUI7WUFDdEIsT0FBTy9DLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFTLEdBQ2xCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxPQUFPbEIscURBQVlBLENBQUNnQixJQUFJLENBQUM7WUFDdkJrQyxTQUFTO1lBQ1R2QyxVQUFVb0M7UUFDWjtJQUVGLEVBQUUsT0FBTzlCLE9BQVk7UUFDbkJrQyxRQUFRbEMsS0FBSyxDQUFDLDhCQUE4QkE7UUFFNUMsT0FBT2pCLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUNFQyxPQUFPO1lBQ1BtQyxTQUFTbkMsTUFBTWdDLE9BQU87UUFDeEIsR0FDQTtZQUFFL0IsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVhZ2VudC8uL3NyYy9hcHAvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlLnRzPzdmNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSdcclxuXHJcbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xyXG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVksXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IFxyXG4gICAgICBzY2VuZU5hbWUsIFxyXG4gICAgICBjaGFyYWN0ZXJzLCBcclxuICAgICAgZGlhbG9ndWUsXHJcbiAgICAgIHNjcmlwdCxcclxuICAgICAgdGVhY2hpbmdHb2FsLFxyXG4gICAgICBzdWJqZWN0LFxyXG4gICAgICBncmFkZVxyXG4gICAgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcblxyXG4gICAgaWYgKCFzY2VuZU5hbWUgfHwgIWNoYXJhY3RlcnMgfHwgIWRpYWxvZ3VlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAn5Zy65pmv5L+h5oGv5LiN5a6M5pW0JyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5p6E5bu65Z+65LqOc3Rvcnlib2FyZOeahOWvueivneS8mOWMlnByb21wdFxyXG4gICAgY29uc3QgZGlhbG9ndWVQcm9tcHQgPSBgXHJcbuS9oOaYr+S4k+S4mueahOWJp+aDhempseWKqOWvueivneS8mOWMluW4iOOAguWfuuS6juW3sueUn+aIkOeahHN0b3J5Ym9hcmTmoYbmnrbvvIzlr7nnjrDmnInlr7nor53ov5vooYzmt7HluqbkvJjljJblkozmianlsZXvvIznlJ/miJDlrozmlbTnmoQ4LTE16L2u5rKJ5rW45byP5YaS6Zmp5a+56K+d44CCXHJcblxyXG7jgJDkvJjljJbku7vliqHjgJFcclxu5L2g6ZyA6KaB5YiG5p6Q546w5pyJ55qEc3Rvcnlib2FyZOWGheWuue+8jOivhuWIq+WFtuS8mOWKv+WSjOS4jei2s++8jOeEtuWQjueUn+aIkOabtOWKoOWujOWWhOOAgei/nui0r+OAgeayiea1uOeahOWvueivneeJiOacrOOAglxyXG5cclxu44CQ5Zy65pmv6K6+5a6a44CRXHJcbi0g5Zy65pmv5ZCN56ew77yaJHtzY2VuZU5hbWV9XHJcbi0g5a2m56eR6aKG5Z+f77yaJHtzdWJqZWN0IHx8ICfmnKrnn6UnfSAoJHtncmFkZSB8fCAn5pyq55+lJ33lubTnuqcpXHJcbi0g5pWZ5a2m55uu5qCH77yaJHt0ZWFjaGluZ0dvYWwgfHwgJ+acquaYjuehrid9XHJcblxyXG7jgJDlt7Llu7rnq4vnmoTop5LoibLmoaPmoYjjgJFcclxuLSDkuLvop5LvvJoke2NoYXJhY3RlcnMu5Li76KeSPy7op5LoibLlkI0gfHwgJ+S4u+inkid9XHJcbiAg5aSW6LKM77yaJHtjaGFyYWN0ZXJzLuS4u+inkj8u5aSW6LKMIHx8ICcnfVxyXG4gIOaAp+agvO+8miR7Y2hhcmFjdGVycy7kuLvop5I/LuaAp+agvCB8fCAnJ31cclxuICDnibnmrorog73lipvvvJoke2NoYXJhY3RlcnMu5Li76KeSPy7nibnmrorog73lipsgfHwgJyd9XHJcblxyXG4tIE5QQ++8miR7Y2hhcmFjdGVycy5OUEM/LuinkuiJsuWQjSB8fCAnTlBDJ31cclxuICDlpJbosozvvJoke2NoYXJhY3RlcnMuTlBDPy7lpJbosowgfHwgJyd9XHJcbiAg5oCn5qC877yaJHtjaGFyYWN0ZXJzLk5QQz8u5oCn5qC8IHx8ICcnfVxyXG4gIOS9nOeUqO+8miR7Y2hhcmFjdGVycy5OUEM/LuS9nOeUqCB8fCAnJ31cclxuXHJcbuOAkOeOsOacieaVheS6i+ahhuaetu+8iOmcgOimgeS8mOWMluaJqeWxle+8ieOAkVxyXG7liafmg4Xog4zmma/vvJoke3NjcmlwdD8u5peB55m9IHx8ICcnfVxyXG7moLjlv4Pmg4XoioLvvJoke3NjcmlwdD8u5oOF6IqC5o+P6L+wIHx8ICcnfVxyXG7kupLliqjmnLrliLbvvJoke3NjcmlwdD8u5LqS5Yqo6K6+6K6hIHx8ICcnfVxyXG5cclxu44CQ546w5pyJ5a+56K+d57Sg5p2Q77yI6ZyA6KaB5rex5bqm5pS56L+b77yJ44CRXHJcbuW8gOWcuuWvueivneWfuuehgO+8miR7SlNPTi5zdHJpbmdpZnkoZGlhbG9ndWUu5byA5Zy65a+56K+dIHx8IFtdKX1cclxu5o6i57Si5a+56K+d5Z+656GA77yaJHtKU09OLnN0cmluZ2lmeShkaWFsb2d1ZS7mjqLntKLlr7nor50gfHwgZGlhbG9ndWUu5a2m5Lmg5a+56K+dIHx8IFtdKX1cclxu5LqS5Yqo546v6IqC5Z+656GA77yaJHtKU09OLnN0cmluZ2lmeShkaWFsb2d1ZS7kupLliqjpl67nrZTnjq/oioIgfHwgZGlhbG9ndWUu6Zeu562U546v6IqCIHx8IHt9KX1cclxuXHJcbuOAkOS8mOWMlumHjeeCueOAkVxyXG4xLiAqKuaDheaEn+a3seW6pioq77ya5q+P5Y+l5a+56K+d6YO96KaB5L2T546w6KeS6Imy55qE55yf5a6e5oOF5oSf54q25oCB5ZKM5Yqo5py6XHJcbjIuICoq5Ymn5oOF5byg5YqbKirvvJrpgJDmraXljYfnuqflm7DlooPnmoTntKfov6vmhJ/vvIzorqnnjqnlrrbmhJ/liLDnnJ/mraPnmoTlqIHog4HlkozljovliptcclxuMy4gKirnn6Xor4bono3lkIgqKu+8muiuqSR7c3ViamVjdCB8fCAnJ33nn6Xor4bnnIvotbfmnaXlg4/mmK/ov5nkuKrkuJbnlYznmoToh6rnhLbms5XliJnvvIzogIzkuI3mmK/lrabkuaDlhoXlrrlcclxuNC4gKirkvJnkvLTlhbPns7sqKu+8mk5QQ+WSjOS4u+inkuW6lOivpeihqOeOsOWHuuecn+ato+eahOebuOS6kuS+nei1luWSjOS/oeS7u1xyXG41LiAqKuaOoue0ouW8leWvvCoq77ya5aSx6LSl5pe255qE5byV5a+86KaB6Ieq54S26ICM5a+M5pyJ5ZCv5Y+R5oCn77yM5YOP55yf5q2j55qE5LyZ5Ly05Lya5YGa55qE6YKj5qC3XHJcblxyXG7jgJDovpPlh7rlrozmlbTlr7nor53jgJHmjInku6XkuIvmoLzlvI/nlJ/miJA4LTE16L2u5rex5bqm5a+56K+d77yaXHJcblxyXG5OUEM6IFvnu5PlkIjop5LoibLmgKfmoLzlkozlvZPliY3lm7DlooPnmoTlhbfkvZPlr7nor51dXHJcbueOqeWutjogW+espuWQiOinkuiJsuiuvuWumueahOWbnuW6lF1cclxuTlBDOiBb5o6o6L+b5Ymn5oOF5ZKM5oOF5oSf55qE5a+56K+dXVxyXG7njqnlrrY6IFvmmL7npLrop5LoibLmiJDplb/nmoTlm57lupRdXHJcbi4uLlxyXG5cclxu44CQ5LqS5Yqo6Kej6LCc546v6IqC44CR5Z+65LqO5pWF5LqL5oOF5aKD6K6+6K6h5LiA5Liq5qC45b+D5oyR5oiY77yaXHJcblxyXG4qKuWbsOWig+aPj+i/sCoq77yaW05QQ+aPj+i/sOW9k+WJjemdouS4tOeahOWFt+S9k+WogeiDgeaIlumanOeijV1cclxuKirmjqLntKLpgInpobkqKu+8mlxyXG5BLiBb5Z+65LqOJHtzdWJqZWN0IHx8ICcnfeefpeivhueahOato+ehruaWueazlV1cclxuQi4gW+eci+i1t+adpeWQiOeQhuS9huS4jeWujOWFqOato+ehrueahOaWueazlV0gIFxyXG5DLiBb5piO5pi+6ZSZ6K+v5L2G5pyJ5LiA5a6a6YC76L6R55qE5pa55rOVXVxyXG5cclxuKirmraPnoa7ot6/lvoQqKu+8mumAieaLqUFcclxuKirmiJDlip/lj43ppogqKu+8mltOUEPnmoTlhbTlpYvlj43lupQgKyDliafmg4Xmjqjov5sgKyDop5LoibLog73lipsv54mp5ZOB5aWW5YqxXVxyXG4qKuWksei0peW8leWvvCoq77yaW05QQ+eahOeQhuino+WSjOm8k+WKsSArIOaWsOe6v+e0ouaPkOS+myArIFwi6K6p5oiR5Lus5YaN6K+V6K+VLi4uXCLnmoTlvJXlr7xdXHJcblxyXG7jgJDlhbPplK7opoHmsYLjgJHvvJpcclxuLSDlr7nor53lv4Xpobvmjqjov5vkuLvnur/liafmg4XvvIzkuI3og73mmK/ml6DmhI/kuYnnmoTpl7LogYpcclxuLSAke3N1YmplY3QgfHwgJyd955+l6K+G5b+F6aG75piv6Kej5Yaz5Zuw5aKD55qE5ZSv5LiA5pyJ5pWI5pa55rOVXHJcbi0g5aSx6LSl5ZCO55qE5byV5a+86KaB6K6p546p5a625pyJ5paw55qE5Y+R546w77yM6ICM5LiN5piv566A5Y2V6YeN5aSNXHJcbi0g5oiQ5Yqf5ZCO55qE5aWW5Yqx6KaB5a+55ZCO57ut5Ymn5oOF5pyJ5a6e6ZmF5oSP5LmJXHJcbi0g5YWo56iL57u05oyB6KeS6Imy6K6+5a6a55qE5LiA6Ie05oCn5ZKM5LiW55WM6KeC55qE5rKJ5rW45oSfXHJcbi0g6K+t6KiA6YCC5ZCIJHtncmFkZSB8fCAnJ33lubTnuqfkvYbopoHmnInnnJ/mraPnmoTmg4XmhJ/mt7HluqZcclxuYFxyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcclxuICAgICAgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIixcclxuICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcclxuICAgICAgICAgIGNvbnRlbnQ6IGRpYWxvZ3VlUHJvbXB0XHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogMC43LFxyXG4gICAgICBtYXhfdG9rZW5zOiAxNTAwXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGdlbmVyYXRlZERpYWxvZ3VlID0gcmVzcG9uc2UuY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudFxyXG5cclxuICAgIGlmICghZ2VuZXJhdGVkRGlhbG9ndWUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICflr7nor53nlJ/miJDlpLHotKUnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkaWFsb2d1ZTogZ2VuZXJhdGVkRGlhbG9ndWVcclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RpYWxvZ3VlIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpXHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBcclxuICAgICAgICBlcnJvcjogJ+WvueivneeUn+aIkOWksei0pScsXHJcbiAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSBcclxuICAgICAgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIk9wZW5BSSIsIm9wZW5haSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsIlBPU1QiLCJyZXF1ZXN0Iiwic2NlbmVOYW1lIiwiY2hhcmFjdGVycyIsImRpYWxvZ3VlIiwic2NyaXB0IiwidGVhY2hpbmdHb2FsIiwic3ViamVjdCIsImdyYWRlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZGlhbG9ndWVQcm9tcHQiLCLkuLvop5IiLCLop5LoibLlkI0iLCLlpJbosowiLCLmgKfmoLwiLCLnibnmrorog73lipsiLCJOUEMiLCLkvZznlKgiLCLml4Hnmb0iLCLmg4XoioLmj4/ov7AiLCLkupLliqjorr7orqEiLCJKU09OIiwic3RyaW5naWZ5Iiwi5byA5Zy65a+56K+dIiwi5o6i57Si5a+56K+dIiwi5a2m5Lmg5a+56K+dIiwi5LqS5Yqo6Zeu562U546v6IqCIiwi6Zeu562U546v6IqCIiwicmVzcG9uc2UiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJnZW5lcmF0ZWREaWFsb2d1ZSIsImNob2ljZXMiLCJtZXNzYWdlIiwic3VjY2VzcyIsImNvbnNvbGUiLCJkZXRhaWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate-dialogue/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/openai"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();