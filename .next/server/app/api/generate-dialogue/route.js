"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-dialogue/route";
exports.ids = ["app/api/generate-dialogue/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Software_eduagent_src_app_api_generate_dialogue_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate-dialogue/route.ts */ \"(rsc)/./src/app/api/generate-dialogue/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-dialogue/route\",\n        pathname: \"/api/generate-dialogue\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-dialogue/route\"\n    },\n    resolvedPagePath: \"D:\\\\Software\\\\eduagent\\\\src\\\\app\\\\api\\\\generate-dialogue\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Software_eduagent_src_app_api_generate_dialogue_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate-dialogue/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS1kaWFsb2d1ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUtZGlhbG9ndWUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZS1kaWFsb2d1ZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDU29mdHdhcmUlNUNlZHVhZ2VudCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q1NvZnR3YXJlJTVDZWR1YWdlbnQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1YWdlbnQvP2MyNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcU29mdHdhcmVcXFxcZWR1YWdlbnRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhdGUtZGlhbG9ndWVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGUtZGlhbG9ndWVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcU29mdHdhcmVcXFxcZWR1YWdlbnRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhdGUtZGlhbG9ndWVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate-dialogue/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/generate-dialogue/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\nasync function POST(request) {\n    try {\n        const { sceneName, characters, dialogue, script, teachingGoal, subject, grade } = await request.json();\n        if (!sceneName || !characters || !dialogue) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"场景信息不完整\"\n            }, {\n                status: 400\n            });\n        }\n        // 构建基于storyboard的对话优化prompt\n        const dialoguePrompt = `\r\n你是专业的剧情驱动对话优化师。基于已生成的storyboard框架，对现有对话进行深度优化和扩展，生成完整的8-15轮沉浸式冒险对话。\r\n\r\n【优化任务】\r\n你需要分析现有的storyboard内容，识别其优势和不足，然后生成更加完善、连贯、沉浸的对话版本。\r\n\r\n【场景设定】\r\n- 场景名称：${sceneName}\r\n- 学科领域：${subject || \"未知\"} (${grade || \"未知\"}年级)\r\n- 教学目标：${teachingGoal || \"未明确\"}\r\n\r\n【已建立的角色档案】\r\n- 主角：${characters.主角?.角色名 || \"主角\"}\r\n  外貌：${characters.主角?.外貌 || \"\"}\r\n  性格：${characters.主角?.性格 || \"\"}\r\n  特殊能力：${characters.主角?.特殊能力 || \"\"}\r\n\r\n- NPC：${characters.NPC?.角色名 || \"NPC\"}\r\n  外貌：${characters.NPC?.外貌 || \"\"}\r\n  性格：${characters.NPC?.性格 || \"\"}\r\n  作用：${characters.NPC?.作用 || \"\"}\r\n\r\n【现有故事框架（需要优化扩展）】\r\n剧情背景：${script?.旁白 || \"\"}\r\n核心情节：${script?.情节描述 || \"\"}\r\n互动机制：${script?.互动设计 || \"\"}\r\n\r\n【现有对话素材（需要深度改进）】\r\n开场对话基础：${JSON.stringify(dialogue.开场对话 || [])}\r\n探索对话基础：${JSON.stringify(dialogue.探索对话 || dialogue.学习对话 || [])}\r\n互动解谜环节基础：${JSON.stringify(dialogue.互动解谜环节 || dialogue.互动问答环节 || dialogue.问答环节 || {})}\r\n\r\n【优化重点】\r\n1. **情感深度**：每句对话都要体现角色的真实情感状态和动机\r\n2. **剧情张力**：逐步升级困境的紧迫感，让玩家感到真正的威胁和压力\r\n3. **知识融合**：让${subject || \"\"}知识看起来像是这个世界的自然法则，而不是学习内容\r\n4. **伙伴关系**：NPC和主角应该表现出真正的相互依赖和信任\r\n5. **探索引导**：失败时的引导要自然而富有启发性，像真正的伙伴会做的那样\r\n\r\n【输出完整对话】按以下格式生成8-15轮深度对话：\r\n\r\nNPC: [结合角色性格和当前困境的具体对话]\r\n玩家: [符合角色设定的回应]\r\nNPC: [推进剧情和情感的对话]\r\n玩家: [显示角色成长的回应]\r\n...\r\n\r\n【互动解谜环节】基于故事情境设计具体的知识考核：\r\n\r\n**困境描述**：[NPC详细描述当前困境，暗示需要特定智慧解决]\r\n**探索引导**：[NPC引导观察环境线索，发现解决思路]\r\n\r\n**考核设计**：\r\n- **考核类型**：根据互动需求选择（选择题/填空题/拖拽排序/数字输入/操作模拟等）\r\n- **具体题目**：明确的问题表述，结合剧情情境\r\n- **选项设置**：具体的选项内容或操作说明\r\n- **正确答案**：标准答案\r\n- **答案解析**：与${subject || \"\"}知识的关联说明\r\n\r\n**三层次反馈**：\r\n- **完全正确**：环境变化 + NPC兴奋 + 剧情奖励 + 关系深化\r\n- **部分正确**：部分效果 + 具体提示 + 鼓励指导  \r\n- **完全错误**：安全失败 + 学习线索 + 重试指导（直到成功）\r\n\r\n【关键要求】：\r\n- 对话必须推进主线剧情，不能是无意义的闲聊\r\n- ${subject || \"\"}知识必须是解决困境的唯一有效方法\r\n- 失败后的引导要让玩家有新的发现，而不是简单重复\r\n- 成功后的奖励要对后续剧情有实际意义\r\n- 全程维持角色设定的一致性和世界观的沉浸感\r\n- 语言适合${grade || \"\"}年级但要有真正的情感深度\r\n`;\n        const response = await openai.chat.completions.create({\n            model: \"gpt-4o-mini\",\n            messages: [\n                {\n                    role: \"user\",\n                    content: dialoguePrompt\n                }\n            ],\n            temperature: 0.7,\n            max_tokens: 1500\n        });\n        const generatedDialogue = response.choices[0]?.message?.content;\n        if (!generatedDialogue) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"对话生成失败\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            dialogue: generatedDialogue\n        });\n    } catch (error) {\n        console.error(\"Dialogue generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"对话生成失败\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1kaWFsb2d1ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDNUI7QUFFM0IsTUFBTUUsU0FBUyxJQUFJRCw4Q0FBTUEsQ0FBQztJQUN4QkUsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBQ3BDO0FBRU8sZUFBZUMsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFDSkMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxZQUFZLEVBQ1pDLE9BQU8sRUFDUEMsS0FBSyxFQUNOLEdBQUcsTUFBTVAsUUFBUVEsSUFBSTtRQUV0QixJQUFJLENBQUNQLGFBQWEsQ0FBQ0MsY0FBYyxDQUFDQyxVQUFVO1lBQzFDLE9BQU9YLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFVLEdBQ25CO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSw0QkFBNEI7UUFDNUIsTUFBTUMsaUJBQWlCLENBQUM7Ozs7Ozs7T0FPckIsRUFBRVYsVUFBVTtPQUNaLEVBQUVLLFdBQVcsS0FBSyxFQUFFLEVBQUVDLFNBQVMsS0FBSztPQUNwQyxFQUFFRixnQkFBZ0IsTUFBTTs7O0tBRzFCLEVBQUVILFdBQVdVLEVBQUUsRUFBRUMsT0FBTyxLQUFLO0tBQzdCLEVBQUVYLFdBQVdVLEVBQUUsRUFBRUUsTUFBTSxHQUFHO0tBQzFCLEVBQUVaLFdBQVdVLEVBQUUsRUFBRUcsTUFBTSxHQUFHO09BQ3hCLEVBQUViLFdBQVdVLEVBQUUsRUFBRUksUUFBUSxHQUFHOztNQUU3QixFQUFFZCxXQUFXZSxHQUFHLEVBQUVKLE9BQU8sTUFBTTtLQUNoQyxFQUFFWCxXQUFXZSxHQUFHLEVBQUVILE1BQU0sR0FBRztLQUMzQixFQUFFWixXQUFXZSxHQUFHLEVBQUVGLE1BQU0sR0FBRztLQUMzQixFQUFFYixXQUFXZSxHQUFHLEVBQUVDLE1BQU0sR0FBRzs7O0tBRzNCLEVBQUVkLFFBQVFlLE1BQU0sR0FBRztLQUNuQixFQUFFZixRQUFRZ0IsUUFBUSxHQUFHO0tBQ3JCLEVBQUVoQixRQUFRaUIsUUFBUSxHQUFHOzs7T0FHbkIsRUFBRUMsS0FBS0MsU0FBUyxDQUFDcEIsU0FBU3FCLElBQUksSUFBSSxFQUFFLEVBQUU7T0FDdEMsRUFBRUYsS0FBS0MsU0FBUyxDQUFDcEIsU0FBU3NCLElBQUksSUFBSXRCLFNBQVN1QixJQUFJLElBQUksRUFBRSxFQUFFO1NBQ3JELEVBQUVKLEtBQUtDLFNBQVMsQ0FBQ3BCLFNBQVN3QixNQUFNLElBQUl4QixTQUFTeUIsTUFBTSxJQUFJekIsU0FBUzBCLElBQUksSUFBSSxDQUFDLEdBQUc7Ozs7O2FBS3hFLEVBQUV2QixXQUFXLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFzQmpCLEVBQUVBLFdBQVcsR0FBRzs7Ozs7Ozs7O0VBUzFCLEVBQUVBLFdBQVcsR0FBRzs7OztNQUlaLEVBQUVDLFNBQVMsR0FBRztBQUNwQixDQUFDO1FBRUcsTUFBTXVCLFdBQVcsTUFBTXBDLE9BQU9xQyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO1lBQ3BEQyxPQUFPO1lBQ1BDLFVBQVU7Z0JBQ1I7b0JBQ0VDLE1BQU07b0JBQ05DLFNBQVMxQjtnQkFDWDthQUNEO1lBQ0QyQixhQUFhO1lBQ2JDLFlBQVk7UUFDZDtRQUVBLE1BQU1DLG9CQUFvQlYsU0FBU1csT0FBTyxDQUFDLEVBQUUsRUFBRUMsU0FBU0w7UUFFeEQsSUFBSSxDQUFDRyxtQkFBbUI7WUFDdEIsT0FBT2hELHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFTLEdBQ2xCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxPQUFPbEIscURBQVlBLENBQUNnQixJQUFJLENBQUM7WUFDdkJtQyxTQUFTO1lBQ1R4QyxVQUFVcUM7UUFDWjtJQUVGLEVBQUUsT0FBTy9CLE9BQVk7UUFDbkJtQyxRQUFRbkMsS0FBSyxDQUFDLDhCQUE4QkE7UUFFNUMsT0FBT2pCLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUNFQyxPQUFPO1lBQ1BvQyxTQUFTcEMsTUFBTWlDLE9BQU87UUFDeEIsR0FDQTtZQUFFaEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVhZ2VudC8uL3NyYy9hcHAvYXBpL2dlbmVyYXRlLWRpYWxvZ3VlL3JvdXRlLnRzPzdmNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSdcclxuXHJcbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xyXG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVksXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IFxyXG4gICAgICBzY2VuZU5hbWUsIFxyXG4gICAgICBjaGFyYWN0ZXJzLCBcclxuICAgICAgZGlhbG9ndWUsXHJcbiAgICAgIHNjcmlwdCxcclxuICAgICAgdGVhY2hpbmdHb2FsLFxyXG4gICAgICBzdWJqZWN0LFxyXG4gICAgICBncmFkZVxyXG4gICAgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcblxyXG4gICAgaWYgKCFzY2VuZU5hbWUgfHwgIWNoYXJhY3RlcnMgfHwgIWRpYWxvZ3VlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAn5Zy65pmv5L+h5oGv5LiN5a6M5pW0JyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5p6E5bu65Z+65LqOc3Rvcnlib2FyZOeahOWvueivneS8mOWMlnByb21wdFxyXG4gICAgY29uc3QgZGlhbG9ndWVQcm9tcHQgPSBgXHJcbuS9oOaYr+S4k+S4mueahOWJp+aDhempseWKqOWvueivneS8mOWMluW4iOOAguWfuuS6juW3sueUn+aIkOeahHN0b3J5Ym9hcmTmoYbmnrbvvIzlr7nnjrDmnInlr7nor53ov5vooYzmt7HluqbkvJjljJblkozmianlsZXvvIznlJ/miJDlrozmlbTnmoQ4LTE16L2u5rKJ5rW45byP5YaS6Zmp5a+56K+d44CCXHJcblxyXG7jgJDkvJjljJbku7vliqHjgJFcclxu5L2g6ZyA6KaB5YiG5p6Q546w5pyJ55qEc3Rvcnlib2FyZOWGheWuue+8jOivhuWIq+WFtuS8mOWKv+WSjOS4jei2s++8jOeEtuWQjueUn+aIkOabtOWKoOWujOWWhOOAgei/nui0r+OAgeayiea1uOeahOWvueivneeJiOacrOOAglxyXG5cclxu44CQ5Zy65pmv6K6+5a6a44CRXHJcbi0g5Zy65pmv5ZCN56ew77yaJHtzY2VuZU5hbWV9XHJcbi0g5a2m56eR6aKG5Z+f77yaJHtzdWJqZWN0IHx8ICfmnKrnn6UnfSAoJHtncmFkZSB8fCAn5pyq55+lJ33lubTnuqcpXHJcbi0g5pWZ5a2m55uu5qCH77yaJHt0ZWFjaGluZ0dvYWwgfHwgJ+acquaYjuehrid9XHJcblxyXG7jgJDlt7Llu7rnq4vnmoTop5LoibLmoaPmoYjjgJFcclxuLSDkuLvop5LvvJoke2NoYXJhY3RlcnMu5Li76KeSPy7op5LoibLlkI0gfHwgJ+S4u+inkid9XHJcbiAg5aSW6LKM77yaJHtjaGFyYWN0ZXJzLuS4u+inkj8u5aSW6LKMIHx8ICcnfVxyXG4gIOaAp+agvO+8miR7Y2hhcmFjdGVycy7kuLvop5I/LuaAp+agvCB8fCAnJ31cclxuICDnibnmrorog73lipvvvJoke2NoYXJhY3RlcnMu5Li76KeSPy7nibnmrorog73lipsgfHwgJyd9XHJcblxyXG4tIE5QQ++8miR7Y2hhcmFjdGVycy5OUEM/LuinkuiJsuWQjSB8fCAnTlBDJ31cclxuICDlpJbosozvvJoke2NoYXJhY3RlcnMuTlBDPy7lpJbosowgfHwgJyd9XHJcbiAg5oCn5qC877yaJHtjaGFyYWN0ZXJzLk5QQz8u5oCn5qC8IHx8ICcnfVxyXG4gIOS9nOeUqO+8miR7Y2hhcmFjdGVycy5OUEM/LuS9nOeUqCB8fCAnJ31cclxuXHJcbuOAkOeOsOacieaVheS6i+ahhuaetu+8iOmcgOimgeS8mOWMluaJqeWxle+8ieOAkVxyXG7liafmg4Xog4zmma/vvJoke3NjcmlwdD8u5peB55m9IHx8ICcnfVxyXG7moLjlv4Pmg4XoioLvvJoke3NjcmlwdD8u5oOF6IqC5o+P6L+wIHx8ICcnfVxyXG7kupLliqjmnLrliLbvvJoke3NjcmlwdD8u5LqS5Yqo6K6+6K6hIHx8ICcnfVxyXG5cclxu44CQ546w5pyJ5a+56K+d57Sg5p2Q77yI6ZyA6KaB5rex5bqm5pS56L+b77yJ44CRXHJcbuW8gOWcuuWvueivneWfuuehgO+8miR7SlNPTi5zdHJpbmdpZnkoZGlhbG9ndWUu5byA5Zy65a+56K+dIHx8IFtdKX1cclxu5o6i57Si5a+56K+d5Z+656GA77yaJHtKU09OLnN0cmluZ2lmeShkaWFsb2d1ZS7mjqLntKLlr7nor50gfHwgZGlhbG9ndWUu5a2m5Lmg5a+56K+dIHx8IFtdKX1cclxu5LqS5Yqo6Kej6LCc546v6IqC5Z+656GA77yaJHtKU09OLnN0cmluZ2lmeShkaWFsb2d1ZS7kupLliqjop6PosJznjq/oioIgfHwgZGlhbG9ndWUu5LqS5Yqo6Zeu562U546v6IqCIHx8IGRpYWxvZ3VlLumXruetlOeOr+iKgiB8fCB7fSl9XHJcblxyXG7jgJDkvJjljJbph43ngrnjgJFcclxuMS4gKirmg4XmhJ/mt7HluqYqKu+8muavj+WPpeWvueivnemDveimgeS9k+eOsOinkuiJsueahOecn+WunuaDheaEn+eKtuaAgeWSjOWKqOaculxyXG4yLiAqKuWJp+aDheW8oOWKmyoq77ya6YCQ5q2l5Y2H57qn5Zuw5aKD55qE57Sn6L+r5oSf77yM6K6p546p5a625oSf5Yiw55yf5q2j55qE5aiB6IOB5ZKM5Y6L5YqbXHJcbjMuICoq55+l6K+G6J6N5ZCIKirvvJrorqkke3N1YmplY3QgfHwgJyd955+l6K+G55yL6LW35p2l5YOP5piv6L+Z5Liq5LiW55WM55qE6Ieq54S25rOV5YiZ77yM6ICM5LiN5piv5a2m5Lmg5YaF5a65XHJcbjQuICoq5LyZ5Ly05YWz57O7KirvvJpOUEPlkozkuLvop5LlupTor6XooajnjrDlh7rnnJ/mraPnmoTnm7jkupLkvp3otZblkozkv6Hku7tcclxuNS4gKirmjqLntKLlvJXlr7wqKu+8muWksei0peaXtueahOW8leWvvOimgeiHqueEtuiAjOWvjOacieWQr+WPkeaAp++8jOWDj+ecn+ato+eahOS8meS8tOS8muWBmueahOmCo+agt1xyXG5cclxu44CQ6L6T5Ye65a6M5pW05a+56K+d44CR5oyJ5Lul5LiL5qC85byP55Sf5oiQOC0xNei9rua3seW6puWvueivne+8mlxyXG5cclxuTlBDOiBb57uT5ZCI6KeS6Imy5oCn5qC85ZKM5b2T5YmN5Zuw5aKD55qE5YW35L2T5a+56K+dXVxyXG7njqnlrrY6IFvnrKblkIjop5LoibLorr7lrprnmoTlm57lupRdXHJcbk5QQzogW+aOqOi/m+WJp+aDheWSjOaDheaEn+eahOWvueivnV1cclxu546p5a62OiBb5pi+56S66KeS6Imy5oiQ6ZW/55qE5Zue5bqUXVxyXG4uLi5cclxuXHJcbuOAkOS6kuWKqOino+iwnOeOr+iKguOAkeWfuuS6juaVheS6i+aDheWig+iuvuiuoeWFt+S9k+eahOefpeivhuiAg+aguO+8mlxyXG5cclxuKirlm7DlooPmj4/ov7AqKu+8mltOUEPor6bnu4bmj4/ov7DlvZPliY3lm7DlooPvvIzmmpfnpLrpnIDopoHnibnlrprmmbrmhafop6PlhrNdXHJcbioq5o6i57Si5byV5a+8KirvvJpbTlBD5byV5a+86KeC5a+f546v5aKD57q/57Si77yM5Y+R546w6Kej5Yaz5oCd6LevXVxyXG5cclxuKirogIPmoLjorr7orqEqKu+8mlxyXG4tICoq6ICD5qC457G75Z6LKirvvJrmoLnmja7kupLliqjpnIDmsYLpgInmi6nvvIjpgInmi6npopgv5aGr56m66aKYL+aLluaLveaOkuW6jy/mlbDlrZfovpPlhaUv5pON5L2c5qih5ouf562J77yJXHJcbi0gKirlhbfkvZPpopjnm64qKu+8muaYjuehrueahOmXrumimOihqOi/sO+8jOe7k+WQiOWJp+aDheaDheWig1xyXG4tICoq6YCJ6aG56K6+572uKirvvJrlhbfkvZPnmoTpgInpobnlhoXlrrnmiJbmk43kvZzor7TmmI5cclxuLSAqKuato+ehruetlOahiCoq77ya5qCH5YeG562U5qGIXHJcbi0gKirnrZTmoYjop6PmnpAqKu+8muS4jiR7c3ViamVjdCB8fCAnJ33nn6Xor4bnmoTlhbPogZTor7TmmI5cclxuXHJcbioq5LiJ5bGC5qyh5Y+N6aaIKirvvJpcclxuLSAqKuWujOWFqOato+ehrioq77ya546v5aKD5Y+Y5YyWICsgTlBD5YW05aWLICsg5Ymn5oOF5aWW5YqxICsg5YWz57O75rex5YyWXHJcbi0gKirpg6jliIbmraPnoa4qKu+8mumDqOWIhuaViOaenCArIOWFt+S9k+aPkOekuiArIOm8k+WKseaMh+WvvCAgXHJcbi0gKirlrozlhajplJnor68qKu+8muWuieWFqOWksei0pSArIOWtpuS5oOe6v+e0oiArIOmHjeivleaMh+WvvO+8iOebtOWIsOaIkOWKn++8iVxyXG5cclxu44CQ5YWz6ZSu6KaB5rGC44CR77yaXHJcbi0g5a+56K+d5b+F6aG75o6o6L+b5Li757q/5Ymn5oOF77yM5LiN6IO95piv5peg5oSP5LmJ55qE6Zey6IGKXHJcbi0gJHtzdWJqZWN0IHx8ICcnfeefpeivhuW/hemhu+aYr+ino+WGs+WbsOWig+eahOWUr+S4gOacieaViOaWueazlVxyXG4tIOWksei0peWQjueahOW8leWvvOimgeiuqeeOqeWutuacieaWsOeahOWPkeeOsO+8jOiAjOS4jeaYr+eugOWNlemHjeWkjVxyXG4tIOaIkOWKn+WQjueahOWlluWKseimgeWvueWQjue7reWJp+aDheacieWunumZheaEj+S5iVxyXG4tIOWFqOeoi+e7tOaMgeinkuiJsuiuvuWumueahOS4gOiHtOaAp+WSjOS4lueVjOingueahOayiea1uOaEn1xyXG4tIOivreiogOmAguWQiCR7Z3JhZGUgfHwgJyd95bm057qn5L2G6KaB5pyJ55yf5q2j55qE5oOF5oSf5rex5bqmXHJcbmBcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgIG1vZGVsOiBcImdwdC00by1taW5pXCIsXHJcbiAgICAgIG1lc3NhZ2VzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXHJcbiAgICAgICAgICBjb250ZW50OiBkaWFsb2d1ZVByb21wdFxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgdGVtcGVyYXR1cmU6IDAuNyxcclxuICAgICAgbWF4X3Rva2VuczogMTUwMFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBnZW5lcmF0ZWREaWFsb2d1ZSA9IHJlc3BvbnNlLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnRcclxuXHJcbiAgICBpZiAoIWdlbmVyYXRlZERpYWxvZ3VlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAn5a+56K+d55Sf5oiQ5aSx6LSlJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGlhbG9ndWU6IGdlbmVyYXRlZERpYWxvZ3VlXHJcbiAgICB9KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEaWFsb2d1ZSBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgXHJcbiAgICAgICAgZXJyb3I6ICflr7nor53nlJ/miJDlpLHotKUnLFxyXG4gICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJPcGVuQUkiLCJvcGVuYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJQT1NUIiwicmVxdWVzdCIsInNjZW5lTmFtZSIsImNoYXJhY3RlcnMiLCJkaWFsb2d1ZSIsInNjcmlwdCIsInRlYWNoaW5nR29hbCIsInN1YmplY3QiLCJncmFkZSIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImRpYWxvZ3VlUHJvbXB0Iiwi5Li76KeSIiwi6KeS6Imy5ZCNIiwi5aSW6LKMIiwi5oCn5qC8Iiwi54m55q6K6IO95YqbIiwiTlBDIiwi5L2c55SoIiwi5peB55m9Iiwi5oOF6IqC5o+P6L+wIiwi5LqS5Yqo6K6+6K6hIiwiSlNPTiIsInN0cmluZ2lmeSIsIuW8gOWcuuWvueivnSIsIuaOoue0ouWvueivnSIsIuWtpuS5oOWvueivnSIsIuS6kuWKqOino+iwnOeOr+iKgiIsIuS6kuWKqOmXruetlOeOr+iKgiIsIumXruetlOeOr+iKgiIsInJlc3BvbnNlIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwiZ2VuZXJhdGVkRGlhbG9ndWUiLCJjaG9pY2VzIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwiZGV0YWlscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate-dialogue/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/openai"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-dialogue%2Froute&page=%2Fapi%2Fgenerate-dialogue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-dialogue%2Froute.ts&appDir=D%3A%5CSoftware%5Ceduagent%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CSoftware%5Ceduagent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();